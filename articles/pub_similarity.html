<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Computing the similarity of papers to an author's core set • OAmetrics</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Computing the similarity of papers to an author's core set">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">OAmetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/JIF.html">JIF</a></li>
    <li><a class="dropdown-item" href="../articles/pub_similarity.html">Computing the similarity of papers to an author's core set</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Computing the similarity of papers to an author's core set</h1>
            
      

      <div class="d-none name"><code>pub_similarity.Rmd</code></div>
    </div>

    
    
<p>Goal of this exercise: Detect publications that are assigned to an
author by OpenAlex, but actually do not belong to that person (i.e., a
false-positive).</p>
<p>We build a matrix of concept scores, where rows are publications and
columns are all concepts that appeared at least once in a publication.
Concepts that were not assigned to a specific publication receive the
score 0.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/openalexR" class="external-link">openalexR</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Thank you for using openalexR!</span></span>
<span><span class="co">#&gt; To acknowledge our work, please cite the package by calling `citation("openalexR")`.</span></span>
<span><span class="co">#&gt; To suppress this message, add `openalexR.message = suppressed` to your .Renviron file.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lsa</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: SnowballC</span></span>
<span></span>
<span><span class="va">author.id</span> <span class="op">&lt;-</span> <span class="st">"https://openalex.org/A5083504666"</span>  <span class="co"># Mitja</span></span>
<span><span class="co">#author.id &lt;- "https://openalex.org/A5022479713" # Felix</span></span>
<span></span>
<span><span class="co"># which concept levels should be included in the analysis?</span></span>
<span><span class="va">included_levels</span> <span class="op">&lt;-</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span></span>
<span></span>
<span><span class="va">works</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/openalexR/reference/oa_fetch.html" class="external-link">oa_fetch</a></span><span class="op">(</span></span>
<span>  entity <span class="op">=</span> <span class="st">"works"</span>,</span>
<span>  author.id <span class="op">=</span> <span class="va">author.id</span>,</span>
<span>  is_paratext <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  is_retracted <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  abstract<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in oa_request(oa_query(filter = filter_i, multiple_id = multiple_id, : </span></span>
<span><span class="co">#&gt; The following work(s) have truncated lists of authors: W4407393904, W3216869777, W4253923475, W4234992455.</span></span>
<span><span class="co">#&gt; Query each work separately by its identifier to get full list of authors.</span></span>
<span><span class="co">#&gt; For example:</span></span>
<span><span class="co">#&gt;   lapply(c("W4407393904", "W3216869777"), \(x) oa_fetch(identifier = x))</span></span>
<span><span class="co">#&gt; Details at https://docs.openalex.org/api-entities/authors/limitations.</span></span>
<span></span>
<span><span class="co"># filter out works that should not count for the h-index, and for the computation of academic age (i.e., works without doi and which are not published in an outlet).</span></span>
<span><span class="co"># This is mostly irrelevant for the h-index, but important for the automatic retrieval of academic age.</span></span>
<span><span class="va">works</span> <span class="op">&lt;-</span> <span class="va">works</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">doi</span><span class="op">)</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">so</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># manually flag works that do not belong to Mitja Back</span></span>
<span><span class="va">works</span><span class="op">$</span><span class="va">valid</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span><span class="va">works</span><span class="op">$</span><span class="va">valid</span><span class="op">[</span><span class="va">works</span><span class="op">$</span><span class="va">id</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://openalex.org/W3006987680"</span>, <span class="st">"https://openalex.org/W1966661272"</span>, <span class="st">"https://openalex.org/W3144672300"</span>, <span class="st">"https://openalex.org/W3106992603"</span>, <span class="st">"https://openalex.org/W3148118513"</span>, <span class="st">"https://openalex.org/W606769239"</span>, <span class="st">"https://openalex.org/W2548863919"</span>, <span class="st">"https://openalex.org/W4226327396"</span>, <span class="st">"https://openalex.org/W3144466282"</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="va">works</span><span class="op">$</span><span class="va">concepts</span></span>
<span></span>
<span><span class="co"># add publication id and doi to concepts</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">con</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">pub_id</span> <span class="op">&lt;-</span> <span class="va">works</span><span class="op">[</span><span class="va">i</span>, <span class="op">]</span><span class="op">$</span><span class="va">id</span></span>
<span>  <span class="va">con</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">doi</span> <span class="op">&lt;-</span> <span class="va">works</span><span class="op">[</span><span class="va">i</span>, <span class="op">]</span><span class="op">$</span><span class="va">doi</span></span>
<span><span class="op">}</span></span>
<span><span class="va">con.long</span> <span class="op">&lt;-</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/data.table/man/rbindlist.html" class="external-link">rbindlist</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># reduce to required levels</span></span>
<span><span class="va">con.long</span> <span class="op">&lt;-</span> <span class="va">con.long</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">level</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">included_levels</span><span class="op">)</span></span>
<span></span>
<span><span class="va">con.wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span><span class="va">con.long</span>, id_cols<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pub_id"</span>, <span class="st">"doi"</span><span class="op">)</span>, names_from<span class="op">=</span><span class="st">"display_name"</span>, values_from<span class="op">=</span><span class="st">"score"</span>, values_fill<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># remove zero-variance columns</span></span>
<span><span class="va">col_var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">con.wide</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span>, <span class="fl">2</span>, <span class="va">var</span><span class="op">)</span></span>
<span><span class="va">con.wide</span> <span class="op">&lt;-</span> <span class="va">con.wide</span><span class="op">[</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">con.wide</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">col_var</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="va">con.mat</span> <span class="op">&lt;-</span> <span class="va">con.wide</span><span class="op">[</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="co"># remove publication id and doi column</span></span>
<span></span>
<span><span class="va">works</span><span class="op">$</span><span class="va">ID</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">works</span><span class="op">)</span></span>
<span><span class="va">works_reduced</span> <span class="op">&lt;-</span> <span class="va">works</span><span class="op">[</span><span class="va">works</span><span class="op">$</span><span class="va">doi</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">con.wide</span><span class="op">$</span><span class="va">doi</span>, <span class="op">]</span></span>
<span><span class="co"># verify that both data frames are in the same order, for later merging</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">doi</span>, <span class="va">con.wide</span><span class="op">$</span><span class="va">doi</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span></span>
<span><span class="va">PCA</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/princomp.html" class="external-link">princomp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">con.mat</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">PCA</span><span class="op">$</span><span class="va">scores</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>, <span class="va">PCA</span><span class="op">$</span><span class="va">scores</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="pub_similarity_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>The matrix is very sparse: 92.4% of concept scores are exactly zero.
Given this sparsity, cosine similarity seems to be a good measure.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># this is the core concept vector of an author</span></span>
<span><span class="va">mean_concept_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">con.mat</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">mean_concept_vector</span>, <span class="fl">3</span><span class="op">)</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span></span>
<span><span class="co">#&gt;               Psychology        Social psychology Developmental psychology </span></span>
<span><span class="co">#&gt;                    0.630                    0.372                    0.104 </span></span>
<span><span class="co">#&gt;         Computer science     Cognitive psychology        Political science </span></span>
<span><span class="co">#&gt;                    0.071                    0.069                    0.039 </span></span>
<span><span class="co">#&gt;      Clinical psychology       Applied psychology               Humanities </span></span>
<span><span class="co">#&gt;                    0.033                    0.027                    0.025 </span></span>
<span><span class="co">#&gt;           Psychoanalysis                Sociology             Data science </span></span>
<span><span class="co">#&gt;                    0.023                    0.020                    0.019 </span></span>
<span><span class="co">#&gt;  Artificial intelligence               Statistics               Philosophy </span></span>
<span><span class="co">#&gt;                    0.016                    0.016                    0.015 </span></span>
<span><span class="co">#&gt;                Geography               Demography              Mathematics </span></span>
<span><span class="co">#&gt;                    0.013                    0.013                    0.012 </span></span>
<span><span class="co">#&gt;                 Medicine             Econometrics </span></span>
<span><span class="co">#&gt;                    0.011                    0.011</span></span>
<span></span>
<span><span class="co"># add the core concept vector in row 1 as the reference</span></span>
<span><span class="va">con.mat.addMean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">mean_concept_vector</span>, <span class="va">con.mat</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># compute cosine similarity</span></span>
<span><span class="va">sim</span> <span class="op">&lt;-</span> <span class="fu">lsa</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lsa/man/cosine.html" class="external-link">cosine</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">con.mat.addMean</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># extract distance to the core concept vector</span></span>
<span><span class="va">sim_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>doi<span class="op">=</span><span class="va">con.wide</span><span class="op">$</span><span class="va">doi</span>, core_sim<span class="op">=</span><span class="va">sim</span><span class="op">[</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">works</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">works</span>, <span class="va">sim_df</span>, by<span class="op">=</span><span class="st">"doi"</span><span class="op">)</span></span>
<span><span class="va">works_reduced</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">works_reduced</span>, <span class="va">sim_df</span>, by<span class="op">=</span><span class="st">"doi"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">works</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">core_sim</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">core_sim</span>, <span class="va">valid</span>, <span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 5</span></span></span>
<span><span class="co">#&gt;    core_sim valid display_name                            so    publication_year</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>    0.978 TRUE  Why are narcissists so charming at fir… Jour…             <span style="text-decoration: underline;">2</span>010</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>    0.978 TRUE  A New Reliable and Valid Tool for Meas… Euro…             <span style="text-decoration: underline;">2</span>011</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>    0.976 TRUE  Personality trait stability and change  Pers…             <span style="text-decoration: underline;">2</span>021</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>    0.975 TRUE  Narcissistic admiration and rivalry: D… Jour…             <span style="text-decoration: underline;">2</span>013</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>    0.975 TRUE  The Good, the Bad and the Narcissist: … Psyc…             <span style="text-decoration: underline;">2</span>013</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>    0.975 TRUE  Facebook Profiles Reflect Actual Perso… Psyc…             <span style="text-decoration: underline;">2</span>010</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>    0.975 TRUE  Interpersonal behavior in assessment c… Pers…             <span style="text-decoration: underline;">2</span>022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>    0.975 TRUE  The associations between grandiose nar… Pers…             <span style="text-decoration: underline;">2</span>023</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>    0.974 TRUE  Narcissism Today: What We Know and Wha… Curr…             <span style="text-decoration: underline;">2</span>021</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    0.974 TRUE  A Process × Domain Assessment of Narci… Asse…             <span style="text-decoration: underline;">2</span>021</span></span>
<span><span class="va">works</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">core_sim</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">core_sim</span>, <span class="va">valid</span>, <span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 20 × 5</span></span></span>
<span><span class="co">#&gt;    core_sim valid display_name                            so    publication_year</span></span>
<span><span class="co">#&gt;       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>   0.083<span style="text-decoration: underline;">5</span> TRUE  Comparison Standards Scale for Appeara… Psyc…             <span style="text-decoration: underline;">2</span>023</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>   0.082<span style="text-decoration: underline;">3</span> TRUE  Short Dark Tetrad Scale--German Version Psyc…             <span style="text-decoration: underline;">2</span>021</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>   0.070<span style="text-decoration: underline;">4</span> TRUE  TripleR: An R package for social relat… Beha…             <span style="text-decoration: underline;">2</span>011</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>   0.064<span style="text-decoration: underline;">2</span> TRUE  Persönlichkeit 2.0                      Date…             <span style="text-decoration: underline;">2</span>010</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>   0.064<span style="text-decoration: underline;">1</span> TRUE  Demokratievorstellungen unter Verteidi… Esse…             <span style="text-decoration: underline;">2</span>022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>   0.063<span style="text-decoration: underline;">6</span> TRUE  Der Identitätskonflikt zwischen Vertei… Esse…             <span style="text-decoration: underline;">2</span>022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>   0.061<span style="text-decoration: underline;">3</span> TRUE  Verteidiger und Entdecker: Zugehörigke… Esse…             <span style="text-decoration: underline;">2</span>022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>   0.060<span style="text-decoration: underline;">5</span> TRUE  Produktion von naturwissenschaftlichen… Psyc…             <span style="text-decoration: underline;">2</span>017</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>   0.059<span style="text-decoration: underline;">5</span> TRUE  Der Identitätskonflikt zwischen Entdec… Esse…             <span style="text-decoration: underline;">2</span>022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>   0.052<span style="text-decoration: underline;">4</span> TRUE  Support for Refugee Integration in Wes… Soci…             <span style="text-decoration: underline;">2</span>019</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span>   0.052<span style="text-decoration: underline;">3</span> TRUE  Special Issue on “The Social Psycholog… Euro…             <span style="text-decoration: underline;">2</span>019</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span>   0.051<span style="text-decoration: underline;">5</span> TRUE  Back, Mitja                             Spri…             <span style="text-decoration: underline;">2</span>017</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span>   0.044<span style="text-decoration: underline;">2</span> TRUE  Back, Mitja                             Spri…             <span style="text-decoration: underline;">2</span>020</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span>   0.039<span style="text-decoration: underline;">8</span> TRUE  Das Dreckige Dutzend und die Niederträ… Diag…             <span style="text-decoration: underline;">2</span>014</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span>   0.038<span style="text-decoration: underline;">0</span> TRUE  Von Verteidigern und Entdeckern         Esse…             <span style="text-decoration: underline;">2</span>022</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span>   0.037<span style="text-decoration: underline;">7</span> TRUE  Wege aus der Vertrauenskrise            Zeit…             <span style="text-decoration: underline;">2</span>016</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span>   0.027<span style="text-decoration: underline;">5</span> TRUE  Individualisation and individualised s… Euro…             <span style="text-decoration: underline;">2</span>024</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span>   0.011<span style="text-decoration: underline;">7</span> TRUE  Verzeichnis der Autorinnen und Autoren  De G…             <span style="text-decoration: underline;">2</span>015</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">19</span>   0.011<span style="text-decoration: underline;">7</span> TRUE  Hätte die Geschichte auch anders verla… De G…             <span style="text-decoration: underline;">2</span>015</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">20</span>   0.011<span style="text-decoration: underline;">3</span> TRUE  Lens and Dual Lens Models               Oxfo…             <span style="text-decoration: underline;">2</span>019</span></span>
<span></span>
<span><span class="co"># publication with NA in the core_sim are mostly irrelevant publications</span></span>
<span><span class="va">works</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">core_sim</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">core_sim</span>, <span class="va">valid</span>, <span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 5</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 variables: core_sim &lt;dbl&gt;, valid &lt;lgl&gt;, display_name &lt;chr&gt;, so &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   publication_year &lt;int&gt;</span></span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">works</span><span class="op">$</span><span class="va">core_sim</span><span class="op">)</span></span></code></pre></div>
<p><img src="pub_similarity_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>This works already quite well, but assumes that publications have a
single core set. But authors might have multiple clusters of activity,
and the mean core concept vector might fall in between two clusters.
Then every single publication will have a substantial distance to this
rather meaningless average concept core. Hence, a better approach might
be to do k-means clustering and computing the probability of each
publicationto fall into one of the clusters. This way, “lonely wolves”
(which probably are publications erroneously attributed to that person)
can be better identified.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.sthda.com/english/rpkgs/factoextra" class="external-link">factoextra</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: ggplot2</span></span>
<span><span class="co">#&gt; Welcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://svn.r-project.org/R-packages/trunk/cluster/" class="external-link">cluster</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">fclust</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">0xBEEF</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To account for the possibility that a data point doesn't fit well into any of the predefined clusters, an additional "cluster" or category can be introduced, which represents the absence of membership in any of the clusters. This is implemented in the `noise` parameter.</span></span>
<span><span class="va">res.SIL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">k</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">k</span>, <span class="st">"/"</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/fclust/man/Fclust.html" class="external-link">Fclust</a></span><span class="op">(</span><span class="va">con.mat</span>, k<span class="op">=</span><span class="va">k</span>, noise<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">res.SIL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">res.SIL</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    k<span class="op">=</span><span class="va">k</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/fclust/man/Fclust.index.html" class="external-link">Fclust.index</a></span><span class="op">(</span><span class="va">fc</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; [1] "1/10"</span></span>
<span><span class="co">#&gt; The number of clusters k must be an integer in {2, 3, ..., ceiling(n/2)}: k=2 will be used </span></span>
<span><span class="co">#&gt; The standard FkM algorithm with noise cluster has been chosen</span></span>
<span><span class="co">#&gt; The default options have been set, to specify different options, use FKM.noise </span></span>
<span><span class="co">#&gt; The default value alpha=1 has been set for computing SIL.F </span></span>
<span><span class="co">#&gt; [1] "2/10"</span></span>
<span><span class="co">#&gt; The standard FkM algorithm with noise cluster has been chosen</span></span>
<span><span class="co">#&gt; The default options have been set, to specify different options, use FKM.noise </span></span>
<span><span class="co">#&gt; The default value alpha=1 has been set for computing SIL.F </span></span>
<span><span class="co">#&gt; [1] "3/10"</span></span>
<span><span class="co">#&gt; The standard FkM algorithm with noise cluster has been chosen</span></span>
<span><span class="co">#&gt; The default options have been set, to specify different options, use FKM.noise </span></span>
<span><span class="co">#&gt; The default value alpha=1 has been set for computing SIL.F </span></span>
<span><span class="co">#&gt; [1] "4/10"</span></span>
<span><span class="co">#&gt; The standard FkM algorithm with noise cluster has been chosen</span></span>
<span><span class="co">#&gt; The default options have been set, to specify different options, use FKM.noise </span></span>
<span><span class="co">#&gt; The default value alpha=1 has been set for computing SIL.F </span></span>
<span><span class="co">#&gt; [1] "5/10"</span></span>
<span><span class="co">#&gt; The standard FkM algorithm with noise cluster has been chosen</span></span>
<span><span class="co">#&gt; The default options have been set, to specify different options, use FKM.noise </span></span>
<span><span class="co">#&gt; The default value alpha=1 has been set for computing SIL.F </span></span>
<span><span class="co">#&gt; [1] "6/10"</span></span>
<span><span class="co">#&gt; The standard FkM algorithm with noise cluster has been chosen</span></span>
<span><span class="co">#&gt; The default options have been set, to specify different options, use FKM.noise </span></span>
<span><span class="co">#&gt; The default value alpha=1 has been set for computing SIL.F</span></span>
<span></span>
<span><span class="va">res.SIL</span></span>
<span><span class="co">#&gt;   k        PC        PE         MPC       SIL     SIL.F           XB</span></span>
<span><span class="co">#&gt; 1 1 0.3356349 0.6676299 -0.32873025 0.2653296 0.4361090 9.051220e-01</span></span>
<span><span class="co">#&gt; 2 2 0.3356349 0.6676299 -0.32873025 0.2653296 0.4361090 9.051220e-01</span></span>
<span><span class="co">#&gt; 3 3 0.3251567 0.8988302 -0.01226498 0.2489434 0.3915018 6.689577e-01</span></span>
<span><span class="co">#&gt; 4 4 0.2999128 1.0987984  0.06655038 0.2148274 0.4376126 1.055317e+00</span></span>
<span><span class="co">#&gt; 5 5 0.2755834 1.2735788  0.09447928 0.2011736 0.4997248 2.927163e+18</span></span>
<span><span class="co">#&gt; 6 6 0.2539185 1.4291375  0.10470216 0.1914790 0.5251311 9.229691e+21</span></span>
<span></span>
<span><span class="va">fc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/fclust/man/Fclust.html" class="external-link">Fclust</a></span><span class="op">(</span><span class="va">con.mat</span>, k<span class="op">=</span><span class="fl">2</span>, noise<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; The standard FkM algorithm with noise cluster has been chosen</span></span>
<span><span class="co">#&gt; The default options have been set, to specify different options, use FKM.noise</span></span>
<span></span>
<span><span class="co"># U contains the membership probabilities</span></span>
<span><span class="va">works_reduced</span><span class="op">$</span><span class="va">lonely_wolf_index</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">fc</span><span class="op">$</span><span class="va">U</span><span class="op">)</span></span>
<span></span>
<span><span class="va">LW</span> <span class="op">&lt;-</span> <span class="va">works_reduced</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">lonely_wolf_index</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">lonely_wolf_index</span>, <span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span>, <span class="va">id</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">LW</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 5</span></span></span>
<span><span class="co">#&gt;   lonely_wolf_index display_name                    so    publication_year id   </span></span>
<span><span class="co">#&gt;               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>             0.697 Generalizability of Clinical P… medR…             <span style="text-decoration: underline;">2</span>024 http…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>             0.654 Produktion von naturwissenscha… Psyc…             <span style="text-decoration: underline;">2</span>017 http…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>             0.648 Wege aus der Vertrauenskrise    Zeit…             <span style="text-decoration: underline;">2</span>016 http…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>             0.648 TripleR: An R package for soci… Beha…             <span style="text-decoration: underline;">2</span>011 http…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>             0.641 Support for Refugee Integratio… Soci…             <span style="text-decoration: underline;">2</span>019 http…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>             0.615 Das Dreckige Dutzend und die N… Diag…             <span style="text-decoration: underline;">2</span>014 http…</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggrepel.slowkow.com/" class="external-link">ggrepel</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">works_reduced</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">lonely_wolf_index</span>, y<span class="op">=</span><span class="va">core_sim</span>, color<span class="op">=</span><span class="va">valid</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label<span class="op">=</span><span class="va">ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: ggrepel: 206 unlabeled data points (too many overlaps). Consider</span></span>
<span><span class="co">#&gt; increasing max.overlaps</span></span></code></pre></div>
<p><img src="pub_similarity_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="section level2">
<h2 id="third-attempt-use-the-orcid-record">Third attempt: Use the ORCID record<a class="anchor" aria-label="anchor" href="#third-attempt-use-the-orcid-record"></a>
</h2>
<p>(Note: This code is not executed in this vignette, as it needs an
ORCID authentication).</p>
<p>In my experience, ORCID record fewer publications than OpenAlex, but
these are mostly correct. Hence, ORCID has mostly true positives but
quite some false negatives, while OpenAlex has more true positive at the
cost of more false positives. Can we combine the strengths of both?</p>
<p>Here, I try to use the ORCID publication record as a reference set to
find false positive in the OpenAlex record:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rorcid" class="external-link">rorcid</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/openalexR" class="external-link">openalexR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor" class="external-link">janitor</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">au</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/openalexR/reference/oa_fetch.html" class="external-link">oa_fetch</a></span><span class="op">(</span>entity<span class="op">=</span><span class="st">"author"</span>, id<span class="op">=</span><span class="va">author.id</span><span class="op">)</span></span>
<span></span>
<span><span class="va">au</span><span class="op">$</span><span class="va">orcid</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://httr.r-lib.org/" class="external-link">httr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">orcid_works</span> <span class="op">&lt;-</span> <span class="fu">rorcid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rorcid/man/works.html" class="external-link">works</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">au</span><span class="op">$</span><span class="va">orcid</span>, <span class="fl">19</span>, <span class="fl">38</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>created_date_value <span class="op">=</span> <span class="fu">anytime</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/anytime/man/anytime.html" class="external-link">anydate</a></span><span class="op">(</span><span class="va">created_date_value</span><span class="op">/</span><span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">orcid_works_cleaned</span> <span class="op">&lt;-</span> <span class="va">orcid_works</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">publication_date_year_value</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  </span>
<span>  <span class="va">orcid_works_cleaned</span><span class="op">$</span><span class="va">dois</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">orcid_works_cleaned</span><span class="op">$</span><span class="va">external_ids_external_id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="va">x2</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="va">x</span><span class="op">[</span>, <span class="st">"external-id-type"</span><span class="op">]</span> <span class="op">==</span> <span class="st">"doi"</span>, <span class="op">]</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">x2</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">x2</span><span class="op">[</span><span class="fl">1</span>, <span class="st">"external-id-normalized.value"</span><span class="op">]</span><span class="op">)</span></span>
<span>      <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">orcid_works_cleaned</span><span class="op">$</span><span class="va">dois</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"https://doi.org/"</span>, <span class="va">orcid_works_cleaned</span><span class="op">$</span><span class="va">dois</span><span class="op">)</span></span>
<span>  </span>
<span></span>
<span><span class="va">works</span><span class="op">$</span><span class="va">in_ORCID</span> <span class="op">&lt;-</span> <span class="va">works</span><span class="op">$</span><span class="va">doi</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span>  <span class="va">orcid_works_cleaned</span><span class="op">$</span><span class="va">dois</span></span>
<span><span class="va">works_reduced</span><span class="op">$</span><span class="va">in_ORCID</span> <span class="op">&lt;-</span> <span class="va">works_reduced</span><span class="op">$</span><span class="va">doi</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span>  <span class="va">orcid_works_cleaned</span><span class="op">$</span><span class="va">dois</span></span>
<span><span class="va">con.wide</span><span class="op">$</span><span class="va">in_ORCID</span> <span class="op">&lt;-</span> <span class="va">con.wide</span><span class="op">$</span><span class="va">doi</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span>  <span class="va">orcid_works_cleaned</span><span class="op">$</span><span class="va">dois</span> </span>
<span>  </span>
<span>  </span>
<span><span class="co"># add the ORCID mean concept vector in row 1 as the reference</span></span>
<span><span class="va">mean_ORCID_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">colMeans</a></span><span class="op">(</span><span class="va">con.mat</span><span class="op">[</span><span class="va">con.wide</span><span class="op">$</span><span class="va">in_ORCID</span>, <span class="op">]</span><span class="op">)</span></span>
<span><span class="va">con.mat.addMean2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">mean_ORCID_vector</span>, <span class="va">con.mat</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># compute cosine similarity</span></span>
<span><span class="va">sim2</span> <span class="op">&lt;-</span> <span class="fu">lsa</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/lsa/man/cosine.html" class="external-link">cosine</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">con.mat.addMean2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># extract distance to the core concept vector</span></span>
<span><span class="va">sim_df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>doi<span class="op">=</span><span class="va">con.wide</span><span class="op">$</span><span class="va">doi</span>, ORCID_sim<span class="op">=</span><span class="va">sim2</span><span class="op">[</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">works</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">works</span>, <span class="va">sim_df2</span>, by<span class="op">=</span><span class="st">"doi"</span><span class="op">)</span></span>
<span><span class="va">works_reduced</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">works_reduced</span>, <span class="va">sim_df2</span>, by<span class="op">=</span><span class="st">"doi"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">core_sim</span>, <span class="va">works_reduced</span><span class="op">$</span><span class="va">ORCID_sim</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">core_sim</span>, <span class="va">works_reduced</span><span class="op">$</span><span class="va">ORCID_sim</span><span class="op">)</span></span>
<span></span>
<span><span class="va">works_reduced</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">core_sim</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">core_sim</span>, <span class="va">valid</span>, <span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span></span>
<span><span class="va">works_reduced</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">ORCID_sim</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">ORCID_sim</span>, <span class="va">valid</span>, <span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">works_reduced</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">core_sim</span>, y<span class="op">=</span><span class="va">ORCID_sim</span>, color<span class="op">=</span><span class="va">valid</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label<span class="op">=</span><span class="va">ID</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">works_reduced</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ORCID_sim</span> <span class="op">&lt;</span> <span class="fl">.10</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">core_sim</span>, y<span class="op">=</span><span class="va">ORCID_sim</span>, color<span class="op">=</span><span class="va">valid</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label<span class="op">=</span><span class="va">ID</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">works_reduced</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ORCID_sim</span> <span class="op">&lt;</span> <span class="fl">.10</span><span class="op">)</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">lonely_wolf_index</span>, y<span class="op">=</span><span class="va">ORCID_sim</span>, color<span class="op">=</span><span class="va">valid</span>, shape<span class="op">=</span><span class="va">in_ORCID</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label<span class="op">=</span><span class="va">ID</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Which publications are added by OpenAlex, and are they valid?</p>
<p>Without selection by ORCID similarity:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="st">"in ORCID"</span><span class="op">=</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">in_ORCID</span>, <span class="st">"Valid"</span><span class="op">=</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">valid</span><span class="op">)</span></span></code></pre></div>
<p>With selection by ORCID similarity (cutoff = .05):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="st">"in ORCID"</span><span class="op">=</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">in_ORCID</span>, <span class="st">"Valid"</span><span class="op">=</span><span class="va">works</span><span class="op">$</span><span class="va">valid</span>, <span class="st">"outlier"</span><span class="op">=</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">ORCID_sim</span> <span class="op">&lt;=</span><span class="fl">.05</span> <span class="op">&amp;</span> <span class="op">!</span><span class="va">works_reduced</span><span class="op">$</span><span class="va">in_ORCID</span><span class="op">)</span></span></code></pre></div>
<p>Hence, the candidates for invalidly assigned publications are:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">works</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ORCID_sim</span> <span class="op">&lt;=</span><span class="fl">.05</span> <span class="op">&amp;</span> <span class="op">!</span><span class="va">in_ORCID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span><span class="op">)</span></span>
<span><span class="va">works</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">core_sim</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">display_name</span>, <span class="va">so</span>, <span class="va">publication_year</span><span class="op">)</span></span></code></pre></div>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix D. Schönbrodt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
